<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
      name="viewport"
    />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="theme-color" content="#ffffff" />
    <!-- Favicons -->
    <link rel="apple-touch-icon" href="favicon.png" />
    <link rel="icon" href="favicon.png" />

    <title>Events | DSC HIT</title>

    <!--     Fonts and icons     -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="assets/css/material-kit.css?v=2.0.2" />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <!-- Documentation extras -->
    <link rel="stylesheet" href="assets/css/styles.css" />
    <link rel="stylesheet" href="assets/css/navbar.css" />

    <link
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
      rel="stylesheet"
      integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://unpkg.com/flickity@2.0/dist/flickity.min.css"
    />
    <script src="https://unpkg.com/flickity@2.0/dist/flickity.pkgd.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />

    <style>
      body {
        overflow-x: hidden;
      }

      #top-button {
        font-size: 20px;
        transition: 0.3s ease;
      }

      .grid-item {
        width: 25%;
      }

      .grid-item--width2 {
        width: 50%;
      }

      .img-fluid {
        border-radius: 5px 5px;
      }

      /* Preloader */

      #preloader {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: #fff;
        z-index: 99;
      }

      #status {
        width: 200px;
        height: 200px;
        position: absolute;
        left: 50%;
        top: 50%;
        background: #fff;
        background-repeat: no-repeat;
        background-position: center;
        margin: -100px 0 0 -100px;
      }
    </style>
    <!-- iframe removal -->
  </head>

  <body class="landing-page" name="top" id="top">
    <div id="preloader">
      <lottie-player
        id="status"
        src="https://assets6.lottiefiles.com/private_files/lf30_8a9atN.json"
        mode="bounce"
        background="#FFFFFF"
        speed="1"
        loop
        autoplay
      ></lottie-player>
    </div>
    <!-- ============================================ Navbar ============================================ -->
    <nav
      class="navbar navbar-color-on-scroll navbar-transparent fixed-top navbar-expand-lg"
      color-on-scroll="100"
      id="sectionsNav"
    >
      <!-- ===== Navbar through JS ===== -->
    </nav>
    <!-- ============================================ /.Navbar ============================================ -->

    <div class="main main-raised margin-t-0">
      <p>&nbsp;</p>
      <p>&nbsp;</p>

      <div id="container-event" class="container">
        <!-- ============================================ **** Top Banner **** ============================================ -->
        <div class="row mt-5">
          <!-- Fisrt Column -->
          <div class="col-lg-6">
            <p>&nbsp;</p>
            <h2 class="title">Events</h2>
            <h5 class="description">
              Here at DSC HIT we put the fun in functions and events.<br />
              Attend Study Jams/ Hackathons/ Developer Conferences to learn more
              about the latest technologies.<br />
              Interested in being a Speaker at one of our events? Just drop us
              your Proposal.
            </h5>
            <p>&nbsp;</p>
            <a
              href="mailto:dscheritageit@gmail.com"
              class="btn btn-primary"
              id="buttons"
            >
              <b>Send Proposal</b>
            </a>
          </div>
          <!-- /.Fisrt Column -->

          <!-- Second Column -->
          <div class="col-lg-6">
            <p>&nbsp;</p>
            <img class="img-fluid" src="assets/img/kit/speaker_banner.png" />
            <p>&nbsp;</p>
          </div>
          <!-- /.Second Column -->
        </div>
        <!-- ============================================ /.**** Top Banner **** ============================================ -->

        <!-- ============================================ Loading Animation ============================================ -->
        <div id="loading-animation">
          <div class="google-loader">
            <div class="dot blue"></div>
            <div class="dot red"></div>
            <div class="dot yellow"></div>
            <div class="dot green"></div>
          </div>
        </div>
        <!-- ===== Here the Evenets will Appear ===== -->

        <p>&nbsp;</p>
      </div>

      <p>&nbsp;</p>
      <p>&nbsp;</p>

      <!-- ============================================ **** Footer **** ============================================ -->
      <div id="footer">
        <!-- ===== Footer Through JS ===== -->
      </div>
      <!-- ============================================ /. Footer ============================================ -->
    </div>

    <script src="assets/js/app.js"></script>
    <script src="assets/js/navbar.js"></script>
    <script src="assets/js/footer.js"></script>

    <!--   Core JS Files   -->
    <script src="assets/js/core/jquery.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/style/bootstrap-material-design.js"></script>
    <!-- Material Kit Core initialisations of plugins and Bootstrap Material Design Library -->
    <script src="assets/js/style/material-kit.js?v=2.0.2"></script>
    <script src="assets/assets-custom/js/material-kit-demo.js"></script>
    <!-- <script src="assets/assets-custom/js/GridHorizontal.js"></script> -->
    <!-- <script src="https://unpkg.com/packery@2/dist/packery.pkgd.min.js"></script> -->
    <!-- <script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script> -->
    <script src="assets/assets-custom/main.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>

    <!-- <script src="assets/assets-custom/index.js"></script> -->

    <script>
      $(window).on("load", function () {
        // makes sure the whole site is loaded
        $("#status").fadeOut(); // will first fade out the loading animation
        $("#preloader").delay(450).fadeOut("slow"); // will fade out the white DIV that covers the website.
        $("body").delay(450).css({ overflow: "visible" });
      });

      $("document").ready(function () {
        var cards = "";
        var i = 1;
        var temp = "";
        var size = 0; //to check the size of the file
        var html = "";

        /* ============================================  Template ============================================ */
        function getTemplate(event) {
          var template = `<div class="col-lg-4 wow fadeIn" data-wow-delay="0.2s">
              <div class="card" style="height: 470px">
                <img class="rounded card-img-top" width="250" height="200" src="${
                  event.imgSrc
                }" />
                <div class="card-body" style="margin-top:-10px;">
                  <h4 class="team-member-name description blue_text"><b>${
                    event.eventName
                  }</b></h4>
                  <h5 style="font-weight:400; color:rgb(0,101,202);">${
                    event.date
                  }</h6>
                  <h5 class="description">${event.info.substring(
                    0,
                    100
                  )}...</h5>
                  <a href="${
                    event.fbLink
                  }" style="position:absolute; bottom: 18px;"><b class="blue_text">Learn more</b></a>
                </div>
              </div>
            </div>`;
          return template;
        }

        /* ============================================ Sorting by Date ============================================ */
        function GetSortOrder(prop) {
          return function (a, b) {
            if (a[prop] < b[prop]) {
              return 1;
            } else if (a[prop] > b[prop]) {
              return -1;
            }
            return 0;
          };
        }

        /* ============================================ fetching Data by API ============================================ */
        var settings = {
          url: "https://dschit.herokuapp.com/events",
          method: "GET",
          timeout: 0,
        };

        $.ajax(settings).done(function (events) {
          events.forEach(function (event) {
            size += 1;
          });

          events.sort(GetSortOrder("time_stamp"));

          events.forEach(function (event) {
            cards += getTemplate(event);

            if (i % 3 == 0) {
              temp =
                '<div class="row equal mt-5 wow justify-content-center">' +
                cards +
                "</div>";
              cards = "";
            }

            html += temp;
            temp = "";

            if (i == size) {
              html +=
                '<div class="row equal mt-5 wow justify-content-center">' +
                cards +
                "</div>";
            }

            i += 1;
          });

          html = '<div class="container-page">' + html + "</div>";

          /* ============================================ Stopping Animation and Placing Data ============================================ */
          document.getElementById("loading-animation").style.display = "none";
          $("#container-event").append(html);
        });
      });
    </script>
  </body>
</html>
